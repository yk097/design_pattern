# TemplateMethodパターン
大枠の処理を構成するクラスと、より詳細な処理をするクラスに分離するパターン

## ポイント
「変わりにくい部分」と「変わりやすい部分」を分離することで変更に強くなる

- 変わりやすい部分
  - 実装、具体的な処理

- 変わりにくい部分
  - ざっくりとした処理の流れ、抽象
  - 変わりやすい部分を使うだけのコード

## 継承と委譲
継承でも委譲でも実現できる

- 継承での実現
  - スーパークラス
    - 具体的な処理のインターフェース
    - 具体的な処理のインターフェースを使って大枠の処理を行うメソッド
  - サブクラス
    - 具体的な処理を実装
- 委譲(DI)での実現
  - 大枠の処理をするメソッドを定義するクラス(DelegateDisplay::Display)
  - 詳細の処理を実装するクラス(DelegateDisplay::CharDisplay, DelegateDisplay::StringDisplay)

継承でも委譲でもできるなら以上の方がいい
- 「やりたいことの大枠」が少し違う振る舞いが必要になったとき
  - 継承の場合は別のスーパークラスを定義して、さらにそのサブクラスを作る必要がある
  - 委譲の場合は「少し違う振る舞いをする大枠」を作れば実装自体は使いまわせる
  - (Bridgeパターンの考え方に近いかもしれない)
- 継承による差分プログラミングは実質的なスパゲッティコード
  - 継承のネストが深くなるとどこで定義されたメソッドなのかわかりづらくなる
  - 差分のために継承することは実装を使い回すこと
  - 一方委譲は「使う側のコード」を使い回す
